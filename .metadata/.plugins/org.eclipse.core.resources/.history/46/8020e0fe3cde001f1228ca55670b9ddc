package metodes_4;
import java.util.*;
public class metodes4_2 {

	public static void main(String[] args) {
        StringBuilder sb = new StringBuilder();  
        String Nums = entradaNums();
        int dia = dia(Nums);  
        int mes =  mes(Nums);
        int any = any(Nums);
        
        if(EsValidAny(any) && EsValidMes(mes) && EsValidDia(dia, mes, any)) {
        	String DiaSetmana = EsValidDiaDeLaSemana(dia, mes, any);
        	System.out.println("La teva data es" + DiaSetmana + " dia " + dia + " de " + obtenirNomMes(mes) + " de " + any);
        } 
        if (!EsValidAny(any)) {
        	System.err.println("L'any es invalid, l'any ha de ser entre el 2021 - 2024!");
        }
         if (!EsValidMes(mes)) {
        	 System.err.println("El mes es invalid, el mes ha de ser entre 1 - 12!");
         }
         if (!EsValidDia(dia, mes, any)) {
        	 System.err.println("");
         }
		}

	public static String entradaNums() {
		Scanner in = new Scanner(System.in);
        System.out.print("Introdueix una data en format dd/mm/aaaa (anys vÃ lids: 2021-2024): ");
        return in.nextLine();
		in.close();
	}
	
	public static int dia(String Nums) {
		return Integer.parseInt(Nums.split("/")[0]);
	}
	public static int mes(String Nums) {
		return Integer.parseInt(Nums.split("/")[1]);
	}
	public static int any(String Nums) {
		return Integer.parseInt(Nums.split("/")[2]);
	}
	
	public static boolean EsValidDia(int dia, int mes, int any) {
	       int[] diesPerMes = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

	        if (any == 2024 && mes == 2) {
	            diesPerMes[1] = 29;
	        }

	        return dia >= 1 && dia <= diesPerMes[mes - 1];
	}
	
	public static boolean EsValidMes(int mes) {
		return mes >= 1 && mes <= 12;
	}
	public static boolean EsValidAny(int any) {
		return any >= 2021 && any <= 2024;
	}
	public static String EsValidDiaDeLaSemana(int dia, int mes, int any) {
        if (mes == 1 || mes == 2) {
            mes += 12;
            any--;
        }

        int K = any % 100; 
        int J = any / 100; 
		int h = (dia + (13 * (mes + 1)) / 5 + K + (K / 4) + (J / 4) + (5 * J)) % 7;
		String[] diesSetmana = {"Dissabte", "Diumenge", "Dilluns", "Dimarts", "Dimecres", "Dijous", "Divendres"};
        return diesSetmana[h];
	}
    public static String obtenirNomMes(int mes) {
        String[] nomsMesos = {"gener", "febrer", "marÃ§", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre"};
        return nomsMesos[mes - 1];
    }
}

